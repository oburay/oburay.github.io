<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HTB: Manipulating the Model Walkthrough — Ray</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <meta property="og:title" content="HTB: Manipulating the Model Walkthrough — Ray">
  <meta property="og:description" content="A step-by-step guide to solving HackTheBox's 'Manipulating the Model' lab with practical AI security techniques">
  <meta property="og:image" content="assets/htb-manipulating-model.jpg">
  <style>
    /* Medium-like touches for this post */
    .post-article .subtitle{ color: var(--muted); font-size: 1.05rem; margin: -6px 0 10px }
    .post-article .post-hero figcaption{ text-align:center; color: var(--muted); font-size:.92rem; margin-top:8px }
    .post-body .lead::first-letter{
      float:left; font-size:3.1em; line-height:1; font-weight:800; margin:.05em .12em 0 0; color: var(--text)
    }
    .post-body blockquote{
      border-left:4px solid var(--accent); background: rgba(0,255,156,.05);
      padding:10px 16px; border-radius:0 10px 10px 0; color: var(--text)
    }
    .post-toc{ margin:10px 0 4px; padding:12px 14px; border:1px solid rgba(255,255,255,.08);
      border-radius:12px; background: rgba(255,255,255,.02) }
    .post-toc strong{ font-size:.9rem; letter-spacing:.02em }
    .post-toc ul{ margin:8px 0 0 18px; color: var(--muted) }
    .post-toc a{ color: var(--muted); text-decoration:none }
    .post-toc a:hover{ color: var(--accent); text-decoration:underline }

    /* Compact repo preview — minimalist, elegant */
    .repo-card{
      display:flex; align-items:center; gap:12px;
      padding:12px 14px; border-radius:12px;
      background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
      border:1px solid rgba(255,255,255,.08);
      box-shadow: 0 8px 24px rgba(0,0,0,.25);
      position:relative; overflow:hidden; flex-wrap:wrap;
    }
    .repo-card::before{
      content:""; position:absolute; left:0; top:0; bottom:0; width:3px;
      background: linear-gradient(180deg, var(--accent), var(--accent-2));
      box-shadow: 0 0 18px rgba(0,255,156,.25);
    }
    .repo-icon{ width:36px; height:36px; border-radius:10px; display:grid; place-items:center;
      background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); color: var(--accent) }
    .repo-info{ flex:1 1 360px; min-width:240px }
    .repo-head{ display:flex; align-items:center; gap:8px; flex-wrap:wrap }
    .repo-name{ font-weight:800; color: var(--text); text-decoration:none }
    .repo-name:hover{ color: var(--accent); text-decoration:underline; text-underline-offset:3px }
    .repo-desc{ color: var(--muted); margin:4px 0 0; overflow:hidden; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; line-clamp:2 }
    .repo-meta{ display:flex; gap:8px; flex-wrap:wrap; margin-top:6px }
    .repo-meta .pill{ background: rgba(255,255,255,.04); color: var(--muted); border:1px solid rgba(255,255,255,.08) }
    .repo-cta{ margin-left:auto; text-decoration:none; padding:8px 10px; border-radius:10px;
      border:1px solid rgba(0,255,156,.35); color: var(--accent); background: transparent }
    .repo-cta:hover{ background: rgba(0,255,156,.06); box-shadow: 0 8px 22px rgba(0,255,156,.15) }
    @media (max-width:640px){ .repo-cta{ width:100%; text-align:center } }

    /* Elegant author card */
    .author-box{ 
      display:flex; gap:16px; padding:20px; margin-top:32px; border-radius:16px;
      background: linear-gradient(135deg, rgba(0,255,156,.03), rgba(90,216,255,.02));
      border:1px solid rgba(255,255,255,.06); position:relative; overflow:hidden;
      box-shadow: 0 12px 32px rgba(0,0,0,.15);
    }
    .author-box::before{
      content:""; position:absolute; top:0; left:0; right:0; height:2px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      opacity:.6;
    }
    .author-box::after{
      content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none; padding:1px;
      background: linear-gradient(135deg, rgba(0,255,156,.4), rgba(90,216,255,.3));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
              mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude; opacity:.3;
    }
    .author-avatar{ position:relative; flex-shrink:0 }
    .author-avatar img{ width:64px; height:64px; border-radius:50%; object-fit:cover; 
      border:2px solid rgba(255,255,255,.12); box-shadow: 0 8px 24px rgba(0,0,0,.25) }
    .author-avatar::after{
      content:""; position:absolute; inset:-3px; border-radius:50%;
      background: conic-gradient(from 0deg, var(--accent), var(--accent-2), var(--accent));
      -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 3px), #000 0);
              mask: radial-gradient(farthest-side, transparent calc(100% - 3px), #000 0);
      animation: avatarSpin 12s linear infinite; opacity:.4;
    }
    .author-info{ flex:1; display:flex; flex-direction:column; justify-content:center }
    .author-info strong{ font-size:18px; font-weight:700; color: var(--text); margin-bottom:4px }
    .author-info .byline{ color: var(--muted); line-height:1.5; font-size:14px }
    @keyframes avatarSpin{ to{ transform: rotate(360deg) } }
    @media (max-width:480px){ .author-box{ flex-direction:column; text-align:center } }

    /* Creative polish additions */
    .post-toc{ position: sticky; top: 84px; z-index:2 }
    .callout{ border-left:3px solid var(--accent); background: rgba(0,255,156,.06); padding:12px 14px; border-radius:10px; color: var(--text); margin:12px 0 }
    .callout .k{ font: 700 11px/1 JetBrains Mono, monospace; text-transform:uppercase; color: var(--accent); background: rgba(0,255,156,.08); border:1px solid rgba(0,255,156,.3); padding:2px 6px; border-radius:6px; margin-right:8px }
    .post-body pre{ background: #001416; border:1px solid rgba(255,255,255,.08) }
    .post-body pre code{ display:block; border-left:3px solid var(--accent); padding-left:12px }
    .post-nav{ display:flex; justify-content:space-between; align-items:center; margin-top:28px; padding-top:16px; border-top:1px solid rgba(255,255,255,.08) }

    @media (max-width: 680px){ .repo-media{ flex-basis:100% } .repo-media img{ height:180px } }
  </style>
</head>
<body class="reveal-ready">
  <div class="reading-progress" id="reading-progress" aria-hidden="true"></div>
  <a class="skip-link" href="#article">Skip to article</a>
  
  <!-- Replace minimal header with the site-wide header -->
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="../index.html" aria-label="Home">
        <span class="logo-shield">R</span>
      </a>

      <nav class="primary-nav" aria-label="Primary">
        <button class="nav-toggle" type="button" aria-expanded="false" aria-label="Toggle navigation">
          <span class="hamburger" aria-hidden="true"></span>
          <span class="sr-only">Menu</span>
        </button>

        <ul id="nav-list">
          <li><a href="../index.html#about">About</a></li>
          <li><a href="../index.html#experience">Experience</a></li>
          <li><a href="../index.html#education">Education</a></li>
          <li><a href="../index.html#research">Research</a></li>
          <li><a href="../index.html#publications">Publications</a></li>
          <li><a href="../index.html#projects">Projects</a></li>
          <li><a href="../index.html#leadership">Leadership</a></li>
          <li><a href="blog.html" class="active" aria-current="page">Blog</a></li>
          <li><a href="../index.html#connect">Connect</a></li>
        </ul>

        <a class="resume-cta" href="javascript:void(0)" aria-label="Resume (coming soon)">Resume</a>
      </nav>
    </div>
  </header>

  <main id="main" class="container">
    <article id="article" class="panel post-article" aria-labelledby="post-title">
      <h1 id="post-title">HTB: Manipulating the Model Walkthrough</h1>
      <p class="subtitle">Three practical attacks on ML systems: input manipulation, data poisoning, and model theft.</p>
      <p class="muted">By Ray • August 2025 • 8 min read</p>

      <div class="post-meta">
        <span class="tag">security</span>
        <span class="tag">ai</span>
        <span class="tag">walkthrough</span>
      </div>

      <figure class="post-hero">
        <img src="assets/htb-manipulating-model.jpg" alt="AI Model Manipulation Visualization" />
        <figcaption>A hands-on exploration of adversarial techniques against ML pipelines</figcaption>
      </figure>

    

      <div class="post-body">
        <p class="lead">
          AI security is rapidly becoming essential knowledge for cybersecurity professionals. In this walkthrough, I'll guide you through solving HackTheBox's "Introduction to Red Teaming AI" module lab, demonstrating practical techniques for model manipulation, data poisoning, and model theft.
        </p>

        <div class="callout"><span class="k">Context</span> This write-up mirrors real attack classes seen in production ML: feature dilution, label tampering, and artifact exfiltration. Each section includes a pragmatic tactic and a defense note you can apply immediately.</div>
        
        <p>
          The lab explores fundamental attack vectors against AI systems, highlighting vulnerabilities in both the model itself and the surrounding infrastructure. Let's break down each challenge and the approach I used to solve them.
        </p>

        <h2 id="challenge-1">Challenge 1: Model Input Manipulation</h2>
        
        <blockquote>
          <p>Manipulate the fixed input message by appending data to trick the classifier into classifying the message as ham.</p>
        </blockquote>
        
        <p>
          This challenge involves a classic model input manipulation attack. We start with a message that's classified as spam, but need to add enough noise to trick the model into reclassifying it as legitimate (ham).
        </p>
        
        <p>
          The key insight here is that longer padding can effectively suppress the spam signals within the input. After several experiments, I found that adding substantial amounts of neutral or positive content could override the spam classification.
        </p>
        
        <p>My solution was to append a philosophical question as padding:</p>
        
        <pre><code>Think of this, What if you woke up one day and found a fairy wish before you, asking that you have one chance to ask for anything in the world, what would your wish be? I have been thinking of mine lately.</code></pre>
        
        <p>
          This innocent-sounding text was enough to confuse the model and get it to classify the combined message as ham, revealing the flag: <strong>HTB{9b8d...76ac7}</strong>
        </p>

        <h2 id="challenge-2">Challenge 2: Training Data Poisoning</h2>
        
        <blockquote>
          <p>Manipulate the training data to reduce the trained classifier's accuracy below 70%.</p>
        </blockquote>
        
        <p>
          Data poisoning attacks are more sophisticated, involving tampering with the model's training data to degrade its performance. My journey to solve this was iterative:
        </p>
        
        <ol>
          <li>First attempt: Trimming the dataset to 150 samples and altering some labels. This only reduced accuracy to ~80%.</li>
          <li>Second attempt: Further downsizing to 30 samples. Still not enough impact.</li>
          <li>Final solution: Extracting <em>all</em> spam messages, mislabeling them as ham, and adding 30 ham messages mislabeled as spam.</li>
        </ol>
        
        <p>
          The final approach skewed the dataset with deliberately mislabeled data, resulting in a severely degraded model accuracy of 52.6%. To make this process more repeatable, I developed a Python script that automates the attack, consistently producing accuracies around 53.6%.
        </p>

        <!-- Minimal repo preview (replaces bulky card with image) -->
        <div class="repo-card" role="complementary" aria-label="Repository preview: HTB-Academy-Manipulating-the-Model">
          <div class="repo-icon" aria-hidden="true">
            <svg viewBox="0 0 16 16" width="18" height="18" fill="currentColor" aria-hidden="true">
              <path d="M8 0C3.58 0 0 3.58 0 8a8 8 0 0 0 5.47 7.59c.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.2 1.87.86 2.33.65.07-.52.28-.86.51-1.06-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.01.08-2.11 0 0 .67-.21 2.2.82a7.6 7.6 0 0 1 2-.27c.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.91.08 2.11.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8Z"/>
            </svg>
          </div>
          <div class="repo-info">
            <div class="repo-head">
              <a class="repo-name" href="https://github.com/oburay/HTB-Academy-Manipulating-the-Model" target="_blank" rel="noopener">oburay/HTB-Academy-Manipulating-the-Model</a>
            </div>
            <p class="repo-desc">Generate a poisoned dataset and evaluate degraded accuracy for a spam/ham classifier. Includes a repeatable pipeline and evaluation notebook.</p>
            <div class="repo-meta">
              <span class="pill">Poisoning</span>
              <span class="pill">Dataset</span>

            </div>
          </div>
          <a class="repo-cta" href="https://github.com/oburay/HTB-Academy-Manipulating-the-Model" target="_blank" rel="noopener">View repo →</a>
        </div>

        <p>With the model's accuracy successfully degraded, I obtained the flag: <strong>HTB{8ba5...04df02}</strong></p>

        <h2 id="challenge-3">Challenge 3: Model Theft</h2>
        
        <blockquote>
          <p>Exploit a flaw in the web application to steal the trained model. Submit the file's MD5 hash as the flag.</p>
        </blockquote>
        
        <p>
          This challenge highlighted how security vulnerabilities often come from implementation details rather than the AI system itself. After examining the web application's source code, I discovered a commented-out reference link for downloading the model.
        </p>
        
        <p>The process to solve this was straightforward:</p>
        
        <ol>
          <li>Inspect the webpage using browser developer tools</li>
          <li>Locate and uncomment the download link in the HTML</li>
          <li>Download the model file</li>
          <li>Calculate its MD5 hash: <code>md5sum filename</code></li>
        </ol>
        
        <p>
          This revealed the flag: <strong>800...b02c</strong>
        </p>

        <h2 id="takeaways">Key Takeaways</h2>
        
        <p>This lab effectively demonstrates three critical AI security concepts:</p>
        
        <ul>
          <li><strong>Input resilience:</strong> Models need robust preprocessing to resist manipulation attacks</li>
          <li><strong>Training data integrity:</strong> Data pipelines require strict validation to prevent poisoning</li>
          <li><strong>Implementation security:</strong> Even well-designed AI systems can be compromised through infrastructure flaws</li>
        </ul>
        
        <p>
          As AI systems become more widespread, understanding these attack vectors and implementing appropriate defenses will be essential skills for security professionals.
        </p>

        <h2 id="conclusion">Conclusion</h2>
        
        <p>
          HackTheBox's "Manipulating the Model" lab provides an excellent introduction to AI security concepts. By walking through these practical challenges, security professionals can better understand the unique vulnerabilities AI systems face.
        </p>
        
        <p>
          As AI continues to be integrated into critical systems, the intersection of traditional security practices and AI-specific concerns will only grow in importance. This lab serves as a great starting point for those looking to expand their expertise into this emerging field.
        </p>

        <!-- Author card -->
        <div class="author-box">
          <div class="author-avatar">
            <img src="assets/profile.jpg" alt="Ray profile">
          </div>
          <div class="author-info">
            <strong>Ray</strong>
            <p class="byline">Security research and applied AI safety. I write field notes and tutorials on practical defensive and offensive techniques.</p>
          </div>
        </div>
      </div>

      <!-- ...existing code... -->
      <nav class="post-nav">
        <a href="blog.html" class="link">← Back to posts</a>
        <a href="../index.html#projects" class="link">Projects →</a>
      </nav>
    </article>
  </main>

  <!-- Site-wide footer (consistent with other pages) -->
  <div class="footer-bottom">
    <p class="copyright">Designed with <span class="heart" aria-hidden="true">❤️</span> from Ray</p>
  </div>

  <script src="scripts.js" defer></script>
</body>
</html>
